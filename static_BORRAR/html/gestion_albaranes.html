<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rellenar Albarán</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }
    .container {
      width: 80%;
      margin: 50px auto;
      background-color: #fff;
      border-radius: 5px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 5px;
    }
    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 3px;
      box-sizing: border-box;
    }
    input[type="submit"] {
      width: 100%;
      background-color: #333;
      color: #fff;
      padding: 10px;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }
    input[type="submit"]:hover {
      background-color: #555;
    }
    #product-list {
      margin-top: 20px;
    }
    .product-item {
      border-bottom: 1px solid #ccc;
      padding: 10px 0;
    }
    .product-item:last-child {
      border-bottom: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Rellenar Albarán</h2>
    <form id="add-product-form">
    <label for="cliente">Cliente:</label>
    <select name="cliente" id="cliente" required>
        <option value="">Seleccionar Cliente</option>
        <!-- Aquí puedes cargar los productos guardados en la base de datos -->
        <option value="1">Cliente 1</option>
        <option value="2">Cliente 2</option>
        <option value="3">Cliente 3</option>
        <!-- Puedes agregar más opciones según sea necesario -->
      </select>
      <label for="producto">Producto:</label>
      <select name="producto" id="producto" required>
        <option value="">Seleccionar Producto</option>
        <!-- Aquí puedes cargar los productos guardados en la base de datos -->
        <option value="1" data-precio="10.00">Producto 1</option>
        <option value="2" data-precio="20.00">Producto 2</option>
        <option value="3" data-precio="30.00">Producto 3</option>
        <!-- Puedes agregar más opciones según sea necesario -->
      </select>

      <label for="cantidad">Cantidad:</label>
      <input type="number" name="cantidad" id="cantidad" min="1" required>

      <input type="submit" value="Agregar Producto">
    </form>

    <div id="product-list">
      <!-- Aquí se mostrarán los productos agregados -->
    </div>
    
    <input type="button" id="guardar-albaran" value="Guardar Albarán">
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const addProductForm = document.getElementById('add-product-form');
      const productList = document.getElementById('product-list');
      const guardarAlbaranBtn = document.getElementById('guardar-albaran');

      addProductForm.addEventListener('submit', function(event) {
        event.preventDefault();

        const producto = addProductForm.producto.value;
        const cantidad = addProductForm.cantidad.value;

        if (producto && cantidad) {
          const productName = addProductForm.producto.options[addProductForm.producto.selectedIndex].text;
          const productPrice = addProductForm.producto.options[addProductForm.producto.selectedIndex].dataset.precio;
          const productItem = document.createElement('div');
          productItem.classList.add('product-item');
          productItem.innerHTML = `
            <strong>${productName}</strong> - Cantidad: ${cantidad}, Precio: ${productPrice}
          `;
          productList.appendChild(productItem);

          addProductForm.reset();
        } else {
          alert('Por favor, complete todos los campos del producto.');
        }
      });

      guardarAlbaranBtn.addEventListener('click', function() {
        const productosAgregados = productList.querySelectorAll('.product-item');
        if (productosAgregados.length > 0) {
          // Aquí puedes enviar los datos del albarán al servidor para guardarlo en la base de datos
          alert('Albarán guardado correctamente.');
          // Limpia la lista de productos después de guardar el albarán
          productList.innerHTML = '';
        } else {
          alert('Agregue al menos un producto antes de guardar el albarán.');
        }
      });
    });
  </script>
</body>
</html>

